__NUXT_JSONP__("/post/1401", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){return {data:[{post:{id:1401,date:l,date_gmt:m,guid:{rendered:"https:\u002F\u002Fvolkruss.com\u002F?p=1401"},modified:l,modified_gmt:m,slug:"java%e3%81%ab%e3%82%88%e3%82%8b%e9%96%a2%e6%95%b0%e5%9e%8b%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0",status:"publish",type:"post",link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002F2021\u002F07\u002F04\u002Fjava%e3%81%ab%e3%82%88%e3%82%8b%e9%96%a2%e6%95%b0%e5%9e%8b%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0\u002F",title:{rendered:"Javaによる関数型プログラミング"},content:{rendered:"\n\u003Cp\u003Eって本が気に入ってます。2014年の本ですけどとても使えると思います。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Famzn.to\u002F3wcN8cZ\" data-type=\"URL\" data-id=\"https:\u002F\u002Famzn.to\u002F3wcN8cZ\" target=\"_blank\" rel=\"noreferrer noopener\"\u003EJavaによる関数型プログラミング ―Java 8ラムダ式とStream\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\n\u003Cp\u003Eこの前BookOffで売ってたので買いました。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003EJavaのstreamでスッキリとしたコードが書けます。とりあえず普通のコードをどんどん綺麗なコードに変えていくような記載になっているので、わかりやすいどす。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003Eまずは簡単な挨拶でリストのソートをやってみます。\u003Cbr \u002F\u003E文字列の長さでソートしてみます。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E\n\tpublic static void main(String&#91;] args) {\n\t\tList&lt;String&gt; people = Arrays.asList(\n\t\t\t\t\"suzukazeaoba\",\"yagamikoh\",\"nene\",\"takimotohihumi\");\n\t\tList&lt;String&gt; sortList = people.stream()\n\t\t\t\t.sorted((str1,str2) -&gt; str1.length() - str2.length())\n\t\t\t\t.collect(Collectors.toList());\n\t\tsortList.forEach(System.out::println);\n\t}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003Enene\nyagamikoh\nsuzukazeaoba\ntakimotohihumi\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003Eループを２個作る必要もないシンプルなところに惚れてしまいますね。\u003Cbr \u002F\u003Eこんな感じでstreamを使うと&#8221;何をするのか&#8221;が明確になります。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003Eこの場合だと、このコードはソートをしてるんだなってのが一目でわかります。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003Eもちろん、こんな何にもならないコードをずらずらと紹介しているだけでなく、例えばデザインパターンを関数型で書いてみるとか、ロック処理、例外、遅延など様々なtipsがあり、最後は関数型といえばというような内容で、再帰とか関数合成など書いてあります。\u003C\u002Fp\u003E\n\n\n\u003Ch2\u003EStrategyパターンを関数型で作る\u003C\u002Fh2\u003E\n\n\n\u003Cp\u003EStrategyパターンといえば共通のインターフェースを用意して処理を切り替えることができるパターンです。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003Eラムダ式を使うことで、関数を渡して処理を切り替えられるようになります。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003EこんなProductクラスがあります。和菓子洋菓子と商品名、価格を持っています。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003Epublic class Product {\n\t\u002F\u002F publicにしてます\n\tpublic enum Category {WA,YOU};\n\tpublic Category category;\n\tpublic String name;\n\tpublic int price;\n\tpublic Product(Category category,String name,int price) {\n\t\tthis.category = category;\n\t\tthis.name = name;\n\t\tthis.price = price;\n\t}\n\tpublic int getPrice() {\n\t\treturn this.price;\n\t}\n\tpublic String getName() {\n\t\treturn this.name;\n\t}\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003E値段の全カテゴリー合計、カテゴリーごとの合計を関数を入れ替えて取得できるようなメソッドを用意します。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003EPredicateにはbooleanを戻り値とするような関数を指定してあげます。\u003Cbr \u002F\u003E\u003Ca href=\"https:\u002F\u002Fdocs.oracle.com\u002Fjavase\u002Fjp\u002F8\u002Fdocs\u002Fapi\u002Fjava\u002Futil\u002Ffunction\u002FPredicate.html\" target=\"_blank\" rel=\"noreferrer noopener\"\u003Ehttps:\u002F\u002Fdocs.oracle.com\u002Fjavase\u002Fjp\u002F8\u002Fdocs\u002Fapi\u002Fjava\u002Futil\u002Ffunction\u002FPredicate.html\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E\tpublic static int getTotalAmt(final List&lt;Product\u003E products,final Predicate&lt;Product\u003E selectFunc) {\n\t\treturn products.stream()\n\t\t\t\t.filter(selectFunc)\n\t\t\t\t.mapToInt(Product::getPrice)\n\t\t\t\t.sum();\n\t\t\u002F\u002F 和の場合、洋の場合、ケースが増えると肥大化する\n\t\t\u002F\u002Freturn products.stream().mapToInt(Product::getPrice).sum();\n\t}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003E実際に関数の指定で処理を切り替えます\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E\tpublic static void main(String&#91;] args) {\n\t\tList&lt;Product\u003E products = Arrays.asList(\n\t\t\t\tnew Product(Category.WA,\"どら焼き\", 230),\n\t\t\t\tnew Product(Category.WA, \"大福\", 150),\n\t\t\t\tnew Product(Category.WA, \"最中\", 100),\n\t\t\t\tnew Product(Category.YOU, \"ショートケーキ\", 430),\n\t\t\t\tnew Product(Category.YOU, \"マドレーヌ\", 130),\n\t\t\t\tnew Product(Category.YOU, \"クッキー\", 100),\n\t\t\t\tnew Product(Category.YOU, \"シュークリーム\", 180)\n\t\t\t\t);\n\t\tint waSum = getTotalAmt(products,product -\u003E product.category == Category.WA);\n\t\tSystem.out.println(waSum);\n\t\tint youSum = getTotalAmt(products,product -\u003E product.category == Category.YOU);\n\t\tSystem.out.println(youSum);\n\t\tint sum = getTotalAmt(products,product -\u003E true);\n\t\tSystem.out.println(sum);\n\t}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003E結果\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E480\n840\n1320\r\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Ch2\u003E処理の委譲\u003C\u002Fh2\u003E\n\n\n\u003Cp\u003Eある関心事を他のクラスに委譲することなどはよくあります。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003E合計された値が不正ではないか調べるようなバリデーションを実行する処理を関数に委譲します。ここでは簡単なバリデーションのみ行います。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003Eでは、合計の値に不正がなければ登録、不正があれば登録失敗のような関数を作りました。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E\tpublic static void register(int sum,Function&lt;Integer, Boolean\u003E validationLogic) {\n\t\t\u002F\u002F なんか処理\n\t\t\u002F\u002Fバリデーション処理を委譲する\n\t\tif(!validationLogic.apply(sum)) {\n\t\t\t\u002F\u002F なんか処理\n\t\t\tSystem.out.println(\"エラーがありました\");\n\t\t\treturn;\n\t\t}\n\t\t\u002F\u002F なんか処理\n\t\tSystem.out.println(\"登録しました。\");\n\t}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003EここでのFunctionはIntegerを受け取りBooleanを返します。\u003Cbr \u002F\u003Eこの関数を利用します。実際のバリデーション処理は関数に委譲します。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E\n\tpublic static void main(String&#91;] args) {\n\t\tList&lt;Product\u003E products = Arrays.asList(\n\t\t\t\tnew Product(Category.WA,\"どら焼き\", 230),\n\t\t\t\tnew Product(Category.WA, \"大福\", 150),\n\t\t\t\tnew Product(Category.WA, \"最中\", 100),\n\t\t\t\tnew Product(Category.YOU, \"ショートケーキ\", 430),\n\t\t\t\tnew Product(Category.YOU, \"マドレーヌ\", 130),\n\t\t\t\tnew Product(Category.YOU, \"クッキー\", 100),\n\t\t\t\tnew Product(Category.YOU, \"シュークリーム\", 180)\n\t\t\t\t);\n\t\tint sum = getTotalAmt(products,product -\u003E true);\n\t\tSystem.out.println(sum);\n\t\t\u002F\u002F登録成功\n\t\tregister(sum, price -\u003E price \u003E 0);\n\t\t\u002F\u002F登録失敗\n\t\tregister(sum, price -\u003E price &lt; 0);\n\t}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003Eマイナス値の時は登録しっぱいになります。このバリデーションロジックをラムダ式を使って関数に委譲しています。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003E※よくあるのは複数のバリデーションをまとめたリストを適用させたりしますが、今回はバリデーションのロジックが１つの想定です。\u003C\u002Fp\u003E\n",protected:j},excerpt:{rendered:"\u003Cp\u003Eって本が気に入ってます。2014年の本ですけどとても使えると思います。 Javaによる関数型プログラミング ―Java 8ラムダ式とStream この前BookOffで売ってたので買いました。 Javaのstreamでス&hellip; \u003Ca class=\"more-link\" href=\"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002F2021\u002F07\u002F04\u002Fjava%e3%81%ab%e3%82%88%e3%82%8b%e9%96%a2%e6%95%b0%e5%9e%8b%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0\u002F\"\u003E続きを読む \u003Cspan class=\"screen-reader-text\"\u003EJavaによる関数型プログラミング\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n",protected:j},author:k,featured_media:b,comment_status:n,ping_status:n,sticky:j,template:c,format:"standard",meta:[],categories:[i],tags:[71,75],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts\u002F1401"}],collection:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts"}],about:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Ftypes\u002Fpost"}],author:[{embeddable:a,href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fusers\u002F1"}],replies:[{embeddable:a,href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcomments?post=1401"}],"version-history":[{count:b,href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts\u002F1401\u002Frevisions"}],"wp:attachment":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fmedia?parent=1401"}],"wp:term":[{taxonomy:d,embeddable:a,href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories?post=1401"},{taxonomy:"post_tag",embeddable:a,href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Ftags?post=1401"}],curies:[{name:e,href:f,templated:a}]}}}],fetch:{"0":{categories:{categories:[{id:2,count:i,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fblender\u002F",name:"Blender",slug:"blender",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F2"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=2"}],curies:[{name:e,href:f,templated:a}]}},{id:o,count:i,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fdocker\u002F",name:"Docker",slug:"docker",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F3"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=3"}],curies:[{name:e,href:f,templated:a}]}},{id:77,count:k,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fgulp\u002F",name:p,slug:p,taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F77"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=77"}],curies:[{name:e,href:f,templated:a}]}},{id:i,count:q,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fjava\u002F",name:"Java",slug:"java",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F4"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=4"}],curies:[{name:e,href:f,templated:a}]}},{id:r,count:i,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fjavascript\u002F",name:"JavaScript",slug:"javascript",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F5"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=5"}],curies:[{name:e,href:f,templated:a}]}},{id:q,count:40,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Funity\u002F",name:"Unity",slug:"unity",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F6"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=6"}],curies:[{name:e,href:f,templated:a}]}},{id:7,count:s,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fvue-js\u002F",name:"Vue.js",slug:"vue-js",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F7"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=7"}],curies:[{name:e,href:f,templated:a}]}},{id:8,count:r,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fwordpress\u002F",name:"WordPress",slug:"wordpress",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F8"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=8"}],curies:[{name:e,href:f,templated:a}]}},{id:s,count:o,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002F%e3%81%9d%e3%81%ae%e4%bb%96\u002F",name:"その他",slug:"%e3%81%9d%e3%81%ae%e4%bb%96",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F9"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=9"}],curies:[{name:e,href:f,templated:a}]}},{id:k,count:b,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Funcategorized\u002F",name:"未分類",slug:"uncategorized",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F1"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=1"}],curies:[{name:e,href:f,templated:a}]}}]}}},mutations:void 0}}(true,0,"","category","wp","https:\u002F\u002Fapi.w.org\u002F{rel}","https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories","https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Ftaxonomies\u002Fcategory",4,false,1,"2021-07-04T23:00:02","2021-07-04T14:00:02","open",3,"gulp",6,5,9)));