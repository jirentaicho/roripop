__NUXT_JSONP__("/post/57", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){return {data:[{post:{id:57,date:l,date_gmt:m,guid:{rendered:"https:\u002F\u002Fvolkruss.com\u002F?p=57"},modified:l,modified_gmt:m,slug:"vue-js%e3%81%a8laravel%e3%81%a7%e3%82%ab%e3%83%ac%e3%83%b3%e3%83%80%e3%83%bc%e3%82%a2%e3%83%97%e3%83%aa%e3%82%92%e4%bd%9c%e6%88%90%e3%81%99%e3%82%8b-ep2",status:"publish",type:"post",link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002F2020\u002F05\u002F21\u002Fvue-js%e3%81%a8laravel%e3%81%a7%e3%82%ab%e3%83%ac%e3%83%b3%e3%83%80%e3%83%bc%e3%82%a2%e3%83%97%e3%83%aa%e3%82%92%e4%bd%9c%e6%88%90%e3%81%99%e3%82%8b-ep2\u002F",title:{rendered:"Vue.jsとLaravelでカレンダーアプリを作成する EP2"},content:{rendered:"\n\u003Cp\u003E前回までで静的なカレンダーの表示ができました。\u003Cbr \u002F\u003Eあらかじめ登録しておいたイベントしか表示できないのでは、カレンダーアプリとしては成立しませんが、かといってデータの登録と読み込みはサーバーとの通信が必要そうですね。\u003C\u002Fp\u003E\n\n\n\u003Ch2\u003Eこの記事でやること\u003C\u002Fh2\u003E\n\n\n\u003Cul\u003E\u003Cli\u003Eカレンダーの表示方法に関して\u003C\u002Fli\u003E\u003Cli\u003E登録画面の作成\u003C\u002Fli\u003E\u003Cli\u003Eデータの登録\u003C\u002Fli\u003E\u003C\u002Ful\u003E\n\n\n\u003Ch2\u003Eカレンダーの表示方法について\u003C\u002Fh2\u003E\n\n\n\u003Cp\u003Eカレンダーは月表示だけでなく、週、日、カスタムなど表示方法は様々である。管理も特段変わらないので、前回の月表示を日表示に変更して動きを確認する。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003E変更箇所はscriptのみ\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E\n&lt;script\u003E\n  export default {\n    data: () =\u003E ({\n    today: `2020-05-01`, \u002F\u002Fここ\n    type:'day', \u002F\u002Fここ\n    datas:&#91;],\n    events: &#91;\n        {\n          name: 'あたりまえ体操をする',\n          start: '2020-05-18',\n          end: '2020-05-1',\n        },\n        {\n          name: 'Meeting',\n          start: '2020-05-1 09:00',\n          end: '2020-05-1 10:00',\n        },\n      ],\n    }),\n    computed:{\n    },\n    mounted () {\n    },\n    methods:{\n    }\n  }\n&lt;\u002Fscript\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cfigure class=\"wp-block-image size-large is-resized\"\u003E\u003Cimg loading=\"lazy\" src=\"https:\u002F\u002Fvolkruss.com\u002Fwp-content\u002Fuploads\u002F2020\u002F05\u002Fスクリーンショット-2020-05-19-19.50.47-1024x702.png\" alt=\"\" class=\"wp-image-69\" width=\"494\" height=\"338\"\u002F\u003E\u003C\u002Ffigure\u003E\n\n\n\u003Cp\u003E大した変更をせずとも表示が変わっているのがわかる。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003Evuetiyが自動的に綺麗に表示してくれるのがわかる。\u003Cbr \u002F\u003Eとにかく難しいことを考える必要はなく、データを投入していけば、あとはvuetifyがなんとかしてくれる。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003Eまた詳細画面は、今回のケースでは作成不要です（日表示にすればOK)\u003C\u002Fp\u003E\n\n\n\u003Cp\u003Eというわけで、表示方法を切り替える処理を実装する。\u003Cbr \u002F\u003Eまず画面上部に表示方法を切り替えるリンクを取り付ける。\u003C\u002Fp\u003E\n\n\n\u003Ch2\u003E表示の切り替えを行う\u003C\u002Fh2\u003E\n\n\n\u003Cp\u003Eといっても簡単で、templateのみ修正します。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E&lt;template\u003E\n  &lt;div\u003E\n    &lt;v-menu bottom right\u003E\n      &lt;template v-slot:activator=\"{ on }\"\u003E\n        &lt;v-btn\n          outlined\n          color=\"grey darken-2\"\n          v-on=\"on\"\n        \u003E\n          &lt;span\u003E{{type}}&lt;\u002Fspan\u003E\n        &lt;\u002Fv-btn\u003E\n      &lt;\u002Ftemplate\u003E\n      &lt;v-list\u003E\n        &lt;v-list-item @click=\"type = 'day'\"\u003E\n          &lt;v-list-item-title\u003EDay&lt;\u002Fv-list-item-title\u003E\n        &lt;\u002Fv-list-item\u003E\n        &lt;v-list-item @click=\"type = 'week'\"\u003E\n          &lt;v-list-item-title\u003EWeek&lt;\u002Fv-list-item-title\u003E\n        &lt;\u002Fv-list-item\u003E\n        &lt;v-list-item @click=\"type = 'month'\"\u003E\n          &lt;v-list-item-title\u003EMonth&lt;\u002Fv-list-item-title\u003E\n        &lt;\u002Fv-list-item\u003E\n      &lt;\u002Fv-list\u003E\n    &lt;\u002Fv-menu\u003E\n    &lt;v-sheet height=\"500\"\u003E\n      &lt;v-calendar\n          ref=\"calendar\"\n          locale=\"ja-jp\"\n          :type=\"type\"\n          :now=\"today\"\n          :value=\"today\"\n          :events=\"events\"\n          color=\"primary\"\n      \u003E&lt;\u002Fv-calendar\u003E\n    &lt;\u002Fv-sheet\u003E\n  &lt;\u002Fdiv\u003E\n&lt;\u002Ftemplate\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cfigure class=\"wp-block-image size-large is-resized\"\u003E\u003Cimg loading=\"lazy\" src=\"https:\u002F\u002Fvolkruss.com\u002Fwp-content\u002Fuploads\u002F2020\u002F05\u002Fスクリーンショット-2020-05-19-21.27.48-1024x742.png\" alt=\"\" class=\"wp-image-71\" width=\"456\" height=\"330\"\u002F\u003E\u003C\u002Ffigure\u003E\n\n\n\u003Cp\u003Eこんな感じでプルダウンリストが表示されてその選択値によってカレンダーの表示が切り替わっています。\u003C\u002Fp\u003E\n\n\n\u003Ch2\u003E日付を変更する\u003C\u002Fh2\u003E\n\n\n\u003Cp\u003EVue.jsでコンポーネントがその値を変更するのは非常に簡単です。\u003Cbr \u002F\u003Eカレンダーも同じで予めアクションが決まっているので、あとはそれ用のコールバック関数を用意すればいいです\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E    &lt;v-sheet height=\"500\"\u003E\n      &lt;v-calendar\n          ref=\"calendar\"\n          locale=\"ja-jp\"\n          :type=\"type\"\n          :now=\"today\"\n          :value=\"today\"\n          :events=\"events\"\n          color=\"primary\"\n          @click:date=\"showDay\" 　追加\n      \u003E&lt;\u002Fv-calendar\u003E\n    &lt;\u002Fv-sheet\u003E\n&lt;script\u003E\n  export default {\n    data: () =\u003E ({\n    today: `2020-05-01`,\n    type:'month',　\u002F\u002F月に戻す\n    datas:&#91;],\n    events: &#91;\n        {\n          name: 'あたりまえ体操をする',\n          start: '2020-05-18',\n          end: '2020-05-1',\n        },\n        {\n          name: 'Meeting',\n          start: '2020-05-1 09:00',\n          end: '2020-05-1 10:00',\n        },\n      ],\n    }),\n    computed:{\n    },\n    mounted () {\n    },\n    methods:{\n　　　　\u002F\u002F追加\n      showDay( e ){\n        console.log(e)\n        \u002F\u002F 今日の日付に設定する。\n        this.today = date\n        this.type = 'day'\n      }\n    }\n  }\n&lt;\u002Fscript\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003Eこの状態でカレンダーの日付をクリックします。するとshowDayメソッドが呼ばれます。なんでかっていうと@click:date=&#8221;showDay&#8221; でshowDayを指定しているからという単純な理由です。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003Eとりあえず動かすと引数のeをコンソールに出力しますが、まだうまく動作しません。\u003Cbr \u002F\u003E一旦コンソールの値を確認します。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E{date: \"2020-05-06\", time: \"\", year: 2020, month: 5, day: 6, …}\ndate: \"2020-05-06\"\nday: 6\nfuture: true\nhasDay: true\nhasTime: false\nhour: 0\nminute: 0\nmonth: 5\npast: false\npresent: false\ntime: \"\"\nweekday: 3\nyear: 2020\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003E出力結果のように、オブジェクトが渡されています。日付を変更する場合はここのdateが必要になっているので、引数でdateを指定して取得してしまうように変更します。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E    methods:{\n      showDay( {date} ){\n        console.log(date)\n        \u002F\u002F 今日の日付に設定する。\n        this.today = date\n        this.type = 'day'\n      }\n    }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003E{}でkey名称を囲ってやればそのvalueが渡ってきます。今回はdateだけが必要なのでこれで十分です。ついでに表示方法を日付表示に変更してやれば、表示も切り替わります。\u003C\u002Fp\u003E\n\n\n\u003Ch2\u003E新規作成画面を作成する\u003C\u002Fh2\u003E\n\n\n\u003Cp\u003Eわりとカレンダーは立派になってきたので、今度はカレンダーにイベントを登録します。\u003Cbr \u002F\u003E流石に登録画面が用意されていないので自作していきますが、簡単です。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003E今回、使うイベントは、dayです。dateは既に利用しました。dayはdateと違ってその日付の内部です。わかりづらいので画像で説明します。\u003C\u002Fp\u003E\n\n\n\u003Cfigure class=\"wp-block-image size-large is-resized\"\u003E\u003Cimg loading=\"lazy\" src=\"https:\u002F\u002Fvolkruss.com\u002Fwp-content\u002Fuploads\u002F2020\u002F05\u002Fスクリーンショット-2020-05-19-23.14.25.png\" alt=\"\" class=\"wp-image-76\" width=\"417\" height=\"239\"\u002F\u003E\u003C\u002Ffigure\u003E\n\n\n\u003Cp\u003E丸で囲われた箇所がdateイベントで、それ以外の枠がdayイベントです。dayイベントが発火された時に、新規登録できるようにします。\u003C\u002Fp\u003E\n\n\n\u003Ch3\u003E登録用のコンポーネントを作成します。\u003C\u002Fh3\u003E\n\n\n\u003Cp\u003Eまずapp.jsを修正しておきます\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003Erequire('.\u002Fbootstrap');\nwindow.Vue = require('vue');\nimport Vuetify from 'vuetify';\nimport 'vuetify\u002Fdist\u002Fvuetify.min.css'\nVue.use(Vuetify)\nVue.component('sample-component',require('.\u002Fcomponents\u002FSample.vue').default);\nVue.component('calender-component', require('.\u002Fcomponents\u002FCalenderComponent.vue').default);\n\u002F\u002F add\nVue.component('create-component', require('.\u002Fcomponents\u002FCreateComponent.vue').default);\nconst app = new Vue({\n    el: '#app',\n    vuetify: new Vuetify({\n    }),\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003E次にCreateComponent.vueを作成する。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E&lt;template\u003E\n  &lt;v-row justify=\"center\"\u003E\n    &lt;v-dialog v-model=\"dialog\" persistent max-width=\"600px\"\u003E\n      &lt;v-card\u003E\n        &lt;v-card-title\u003E\n          &lt;span class=\"headline\"\u003E新規登録&lt;\u002Fspan\u003E\n        &lt;\u002Fv-card-title\u003E\n        &lt;v-card-text\u003E\n          &lt;v-container\u003E\n            &lt;v-row\u003E\n              &lt;v-col cols=\"12\" sm=\"12\" md=\"12\"\u003E\n                &lt;v-text-field label=\"タイトル\" required\u003E&lt;\u002Fv-text-field\u003E\n              &lt;\u002Fv-col\u003E\n              &lt;v-col cols=\"6\" sm=\"6\" md=\"6\"\u003E\n                &lt;v-chip\n                    class=\"ma-2\"\n                    label\n                \u003E\n                    Start\n                &lt;\u002Fv-chip\u003E\n                &lt;v-time-picker v-model=\"start\" width=\"252\"\u003E&lt;\u002Fv-time-picker\u003E\n              &lt;\u002Fv-col\u003E\n              &lt;v-col cols=\"6\" sm=\"6\" md=\"6\"\u003E\n                &lt;v-chip\n                    class=\"ma-2\"\n                    label\n                \u003E\n                    End\n                &lt;\u002Fv-chip\u003E\n                &lt;v-time-picker v-model=\"end\" width=\"252\"\u003E&lt;\u002Fv-time-picker\u003E\n              &lt;\u002Fv-col\u003E\n            &lt;\u002Fv-row\u003E\n          &lt;\u002Fv-container\u003E\n        &lt;\u002Fv-card-text\u003E\n        &lt;v-card-actions\u003E\n          &lt;v-spacer\u003E&lt;\u002Fv-spacer\u003E\n          &lt;v-btn color=\"blue darken-1\" text @click=\"dialog = false\"\u003EClose&lt;\u002Fv-btn\u003E\n          &lt;v-btn color=\"blue darken-1\" text @click=\"dialog = false\"\u003ESave&lt;\u002Fv-btn\u003E\n        &lt;\u002Fv-card-actions\u003E\n      &lt;\u002Fv-card\u003E\n    &lt;\u002Fv-dialog\u003E\n  &lt;\u002Fv-row\u003E\n&lt;\u002Ftemplate\u003E\n&lt;script\u003E\n  export default {\n    data: () =\u003E ({\n        dialog : true,\n        start : null,\n        end : null,\n    })\n  }\n&lt;\u002Fscript\u003E\n  \u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003Eタイムピッカーというものを使っています。見た目は良いですが操作性はハッキリ言って悪すぎると思います（笑）\u003C\u002Fp\u003E\n\n\n\u003Cp\u003EではCalendarComponent.vueを修正します。修正箇所はtemplateのみです。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E&lt;template\u003E\n  &lt;div\u003E\n    追加\n    &lt;div id=\"form-modal\"\u003E\n      &lt;create-component ref=\"form\"\u003E&lt;\u002Fcreate-component\u003E\n    &lt;\u002Fdiv\u003E\n    &lt;v-menu bottom right\u003E\n      &lt;template v-slot:activator=\"{ on }\"\u003E\n        &lt;v-btn\n          outlined\n          color=\"grey darken-2\"\n          v-on=\"on\"\n        \u003E\n          &lt;span\u003E{{type}}&lt;\u002Fspan\u003E\n        &lt;\u002Fv-btn\u003E\n      &lt;\u002Ftemplate\u003E\n      &lt;v-list\u003E\n        &lt;v-list-item @click=\"type = 'day'\"\u003E\n          &lt;v-list-item-title\u003EDay&lt;\u002Fv-list-item-title\u003E\n        &lt;\u002Fv-list-item\u003E\n        &lt;v-list-item @click=\"type = 'week'\"\u003E\n          &lt;v-list-item-title\u003EWeek&lt;\u002Fv-list-item-title\u003E\n        &lt;\u002Fv-list-item\u003E\n        &lt;v-list-item @click=\"type = 'month'\"\u003E\n          &lt;v-list-item-title\u003EMonth&lt;\u002Fv-list-item-title\u003E\n        &lt;\u002Fv-list-item\u003E\n      &lt;\u002Fv-list\u003E\n    &lt;\u002Fv-menu\u003E\n    &lt;v-sheet height=\"500\"\u003E\n      &lt;v-calendar\n          ref=\"calendar\"\n          locale=\"ja-jp\"\n          :type=\"type\"\n          :now=\"today\"\n          :value=\"today\"\n          :events=\"events\"\n          color=\"primary\"\n          @click:date=\"showDay\"\n      \u003E&lt;\u002Fv-calendar\u003E\n    &lt;\u002Fv-sheet\u003E\n  &lt;\u002Fdiv\u003E\n&lt;\u002Ftemplate\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003Eこれで画面はこのようになります\u003C\u002Fp\u003E\n\n\n\u003Cfigure class=\"wp-block-image size-large is-resized\"\u003E\u003Cimg loading=\"lazy\" src=\"https:\u002F\u002Fvolkruss.com\u002Fwp-content\u002Fuploads\u002F2020\u002F05\u002Fスクリーンショット-2020-05-19-23.45.20-1024x847.png\" alt=\"\" class=\"wp-image-79\" width=\"543\" height=\"449\"\u002F\u003E\u003C\u002Ffigure\u003E\n\n\n\u003Cblockquote class=\"wp-block-quote\"\u003E\u003Cp\u003E&lt;v-time-picker v-model=&#8221;end&#8221; width=&#8221;252&#8243;&gt;&lt;\u002Fv-time-picker&gt;\u003Cbr \u002F\u003Ewidthは252が最小サイズと判断\u003C\u002Fp\u003E\u003Cp\u003Etimepickerで取れる値は&#8221;01:55&#8243;のような値\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\n\n\n\u003Cp\u003E現状は画面を開いた瞬間にも、dialog : trueなのでこの登録画面が開かれた状態ですので、dayイベントでdialog : trueとするようにします。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003EまずはCreateCompoennt.vueのscriptを修正します。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E&lt;script\u003E\n  export default {\n    data: () =\u003E ({\n        dialog : false, \u002F\u002F 変更\n        start : null,\n        end : null,\n    }),\n    \u002F\u002F 追加\n    methods:{\n        open(){\n            this.dialog = true;\n        }\n    },\n  }\n&lt;\u002Fscript\u003E\n  \u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003Eカレンダーコンポーネントにdayイベントを追加します。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E    &lt;v-sheet height=\"500\"\u003E\n      &lt;v-calendar\n          ref=\"calendar\"\n          locale=\"ja-jp\"\n          :type=\"type\"\n          :now=\"today\"\n          :value=\"today\"\n          :events=\"events\"\n          color=\"primary\"\n          @click:date=\"showDay\"\n          @click:day=\"createEvent\"　追加\n      \u003E&lt;\u002Fv-calendar\u003E\n    &lt;\u002Fv-sheet\u003E\n...\n    methods:{\n      showDay( {date} ){\n        this.today = date\n        this.type = 'day'\n      },\n      \u002F\u002F 追加\n      createEvent(e){\n        console.log(e);\n        this.$refs.form.open();\n      }\n    }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003Eこれで、dayイベントが発火した時に新規登録画面が表示されうようになりましたとさ。\u003C\u002Fp\u003E\n\n\n\u003Cblockquote class=\"wp-block-quote\"\u003E\u003Cp\u003E$refsとは&lt;create-component ref=&#8221;form&#8221;&gt;&lt;\u002Fcreate-component&gt;のrefで指定した名称のコンポーネントを操作できる。ここではそのコンポーネントのopenメソッドを呼び出している。\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\n\n\n\u003Cp\u003E一応、コンソールに表示されるようにしてあるので、値を確認してみます。\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E{date: \"2020-05-14\", time: \"\", year: 2020, month: 5, day: 14, …}\ndate: \"2020-05-14\"\nday: 14\nfuture: true\nhasDay: true\nhasTime: false\nhour: 0\nminute: 0\nmonth: 5\npast: false\npresent: false\ntime: \"\"\nweekday: 4\nyear: 2020\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003Eしっかりデータが渡されているのがわかります。\u003Cbr \u002F\u003Eというわけでコンポーネントの方にデータを渡します。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003ECreateComponent.vye\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E&lt;script\u003E\n  export default {\n    data: () =\u003E ({\n        dialog : false, \u002F\u002F 変更\n        start : null,\n        end : null,\n        \u002F\u002F追加\n        day : \"\",\n    }),\n    methods:{\n        \u002F\u002F 引数追加\n        open(date){\n            this.dialog = true;\n            this.day = date;\n        }\n    },\n  }\n&lt;\u002Fscript\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003ECalenderComponent.vue\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E    methods:{\n      showDay( {date} ){\n        this.today = date\n        this.type = 'day'\n      },\n      createEvent({date}){\n        this.$refs.form.open(date);\n      }\n    }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cfigure class=\"wp-block-image size-large is-resized\"\u003E\u003Cimg loading=\"lazy\" src=\"https:\u002F\u002Fvolkruss.com\u002Fwp-content\u002Fuploads\u002F2020\u002F05\u002Fスクリーンショット-2020-05-20-0.12.47-1024x487.png\" alt=\"\" class=\"wp-image-86\" width=\"778\" height=\"369\"\u002F\u003E\u003C\u002Ffigure\u003E\n\n\n\u003Cp\u003ECreateComponentのdayが設定されるのがわかります。\u003Cbr \u002F\u003EちなみにこれVueのデバッグツールなのですが、便利なので入れておくといいですよ。\u003C\u002Fp\u003E\n\n\n\u003Ch3\u003E登録処理を行う\u003C\u002Fh3\u003E\n\n\n\u003Cp\u003E本来はLaravel側の処理も書かないといけないので、不完全なコードですが、Vue.jsの勉強の意味も込めて仮登録処理を記載します。\u003C\u002Fp\u003E\n\n\n\u003Cp\u003ECalenderComponen.vueを修正します\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E&lt;template\u003E\n  &lt;div\u003E\n     @save=\"saveEvent\"を追加\n    &lt;div id=\"form-modal\"\u003E\n      &lt;create-component ref=\"form\" @save=\"saveEvent\"\u003E&lt;\u002Fcreate-component\u003E\n    &lt;\u002Fdiv\u003E\n    &lt;v-menu bottom right\u003E\n      &lt;template v-slot:activator=\"{ on }\"\u003E\n        &lt;v-btn\n          outlined\n          color=\"grey darken-2\"\n          v-on=\"on\"\n        \u003E\n          &lt;span\u003E{{type}}&lt;\u002Fspan\u003E\n        &lt;\u002Fv-btn\u003E\n      &lt;\u002Ftemplate\u003E\n      &lt;v-list\u003E\n        &lt;v-list-item @click=\"type = 'day'\"\u003E\n          &lt;v-list-item-title\u003EDay&lt;\u002Fv-list-item-title\u003E\n        &lt;\u002Fv-list-item\u003E\n        &lt;v-list-item @click=\"type = 'week'\"\u003E\n          &lt;v-list-item-title\u003EWeek&lt;\u002Fv-list-item-title\u003E\n        &lt;\u002Fv-list-item\u003E\n        &lt;v-list-item @click=\"type = 'month'\"\u003E\n          &lt;v-list-item-title\u003EMonth&lt;\u002Fv-list-item-title\u003E\n        &lt;\u002Fv-list-item\u003E\n      &lt;\u002Fv-list\u003E\n    &lt;\u002Fv-menu\u003E\n    &lt;v-sheet height=\"500\"\u003E\n      &lt;v-calendar\n          ref=\"calendar\"\n          locale=\"ja-jp\"\n          :type=\"type\"\n          :now=\"today\"\n          :value=\"today\"\n          :events=\"events\"\n          color=\"primary\"\n          @click:date=\"showDay\"\n          @click:day=\"createEvent\"\n      \u003E&lt;\u002Fv-calendar\u003E\n    &lt;\u002Fv-sheet\u003E\n  &lt;\u002Fdiv\u003E\n&lt;\u002Ftemplate\u003E\n&lt;script\u003E\n  export default {\n    data: () =\u003E ({\n    today: `2020-05-01`,\n    type:'month',\n    datas:&#91;],\n    events: &#91;\n        {\n          name: 'あたりまえ体操をする',\n          start: '2020-05-18',\n          end: '2020-05-1',\n        },\n        {\n          name: 'Meeting',\n          start: '2020-05-1 09:00',\n          end: '2020-05-1 10:00',\n        },\n      ],\n    }),\n    computed:{\n    },\n    mounted () {\n    },\n    methods:{\n      showDay( {date} ){\n        this.today = date\n        this.type = 'day'\n      },\n      createEvent({date}){\n        this.$refs.form.open(date);\n      },\n      \u002F\u002F ここを追加\n      saveEvent(params){\n        console.log(\"calendarcompoennt.xue\");\n        this.events.push(params);\n        console.log(`保存しました。${params}`)\n      }\n    }\n  }\n&lt;\u002Fscript\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003E次にCreateComponent.vueを修正します\u003C\u002Fp\u003E\n\n\n\u003Cpre class=\"wp-block-code\"\u003E\u003Ccode\u003E&lt;template\u003E\n  &lt;v-row justify=\"center\"\u003E\n    &lt;v-dialog v-model=\"dialog\" persistent max-width=\"600px\"\u003E\n      &lt;v-card\u003E\n        &lt;v-card-title\u003E\n          &lt;span class=\"headline\"\u003E新規登録&lt;\u002Fspan\u003E\n        &lt;\u002Fv-card-title\u003E\n        &lt;v-card-text\u003E\n          &lt;v-container\u003E\n            &lt;v-row\u003E\n              &lt;v-col cols=\"12\" sm=\"12\" md=\"12\"\u003E\n                &lt;v-text-field label=\"タイトル\" required v-model=\"name\"\u003E&lt;\u002Fv-text-field\u003E\n              &lt;\u002Fv-col\u003E\n              &lt;v-col cols=\"6\" sm=\"6\" md=\"6\"\u003E\n                &lt;v-chip\n                    class=\"ma-2\"\n                    label\n                \u003E\n                    Start\n                &lt;\u002Fv-chip\u003E\n                &lt;v-time-picker v-model=\"start\" width=\"252\"\u003E&lt;\u002Fv-time-picker\u003E\n              &lt;\u002Fv-col\u003E\n              &lt;v-col cols=\"6\" sm=\"6\" md=\"6\"\u003E\n                &lt;v-chip\n                    class=\"ma-2\"\n                    label\n                \u003E\n                    End\n                &lt;\u002Fv-chip\u003E\n                &lt;v-time-picker v-model=\"end\" width=\"252\"\u003E&lt;\u002Fv-time-picker\u003E\n              &lt;\u002Fv-col\u003E\n            &lt;\u002Fv-row\u003E\n          &lt;\u002Fv-container\u003E\n        &lt;\u002Fv-card-text\u003E\n        &lt;v-card-actions\u003E\n          &lt;v-spacer\u003E&lt;\u002Fv-spacer\u003E\n          &lt;v-btn color=\"blue darken-1\" text @click=\"dialog = false\"\u003EClose&lt;\u002Fv-btn\u003E\n          &lt;v-btn color=\"blue darken-1\" text @click=\"save\"\u003ESave&lt;\u002Fv-btn\u003E  ここsaveに変更\n        &lt;\u002Fv-card-actions\u003E\n      &lt;\u002Fv-card\u003E\n    &lt;\u002Fv-dialog\u003E\n  &lt;\u002Fv-row\u003E\n&lt;\u002Ftemplate\u003E\n&lt;script\u003E\n  export default {\n    data: () =\u003E ({\n        dialog : false,\n        start : null,\n        end : null,\n        day : \"\",\n        \u002F\u002F追加\n        name : \"\",\n    }),\n    methods:{\n        open(date){\n            this.dialog = true;\n            this.day = date;\n            \u002F\u002F データの初期化処理を行う\n            this.start = null;\n            this.end = null;\n            this.name = \"\";\n        },\n        save(){\n            \u002F\u002F 追加\n            if( !this.isNotNull(this.start,this.end) ){\n                console.log(\"nullですw\");\n                return ;\n            }\n            if( !this.compareDate(this.start,this.end) ){\n                console.log(\"dame\");\n                return;\n            }\n            const params = {\n                name : this.name,\n                start : this.day + ' ' + this.start,\n                end : this.day + ' ' + this.end\n            }\n            console.log(params);\n            \u002F\u002F 子→親へ通知する\n            this.$emit('save',params);\n        },\n        \u002F\u002F 以下を追加\n        isNotNull(start,end){\n            return start &amp;&amp; end;\n        },\n        compareDate(start,end){\n            return start &lt; end;\n        },\n    },\n  }\n&lt;\u002Fscript\u003E\n  \u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\n\n\u003Cp\u003E少し長くなりましたがまとめるために全文載せました。\u003Cbr \u002F\u003Eこれで一時的に新規保存ができるようになりました。\u003C\u002Fp\u003E\n\n\n\u003Cfigure class=\"wp-block-image size-large is-resized\"\u003E\u003Cimg loading=\"lazy\" src=\"https:\u002F\u002Fvolkruss.com\u002Fwp-content\u002Fuploads\u002F2020\u002F05\u002Fスクリーンショット-2020-05-20-8.43.16-1024x740.png\" alt=\"\" class=\"wp-image-89\" width=\"606\" height=\"438\"\u002F\u003E\u003C\u002Ffigure\u003E\n\n\n\u003Cblockquote class=\"wp-block-quote\"\u003E\u003Cp\u003E@save=&#8221;saveEvent&#8221;で子から通知を受け取るkeyを設定します\u003C\u002Fp\u003E\u003Cp\u003Ethis.$emit(&#8216;save&#8217;,params);で子から親に通知します。\u003C\u002Fp\u003E\u003Cp\u003E\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\n\n\n\u003Cp\u003E作ってて思ったが、これくらいならわざわざLaravelを用意する必要がなくて、ローカルストレージでも十分でしたね。\u003C\u002Fp\u003E\n",protected:j},excerpt:{rendered:"\u003Cp\u003E前回までで静的なカレンダーの表示ができました。あらかじめ登録しておいたイベントしか表示できないのでは、カレンダーアプリとしては成立しませんが、かといってデータの登録と読み込みはサーバーとの通信が必要そうですね。 この記事&hellip; \u003Ca class=\"more-link\" href=\"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002F2020\u002F05\u002F21\u002Fvue-js%e3%81%a8laravel%e3%81%a7%e3%82%ab%e3%83%ac%e3%83%b3%e3%83%80%e3%83%bc%e3%82%a2%e3%83%97%e3%83%aa%e3%82%92%e4%bd%9c%e6%88%90%e3%81%99%e3%82%8b-ep2\u002F\"\u003E続きを読む \u003Cspan class=\"screen-reader-text\"\u003EVue.jsとLaravelでカレンダーアプリを作成する EP2\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n",protected:j},author:k,featured_media:b,comment_status:n,ping_status:n,sticky:j,template:c,format:"standard",meta:[],categories:[o],tags:[37,53],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts\u002F57"}],collection:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts"}],about:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Ftypes\u002Fpost"}],author:[{embeddable:a,href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fusers\u002F1"}],replies:[{embeddable:a,href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcomments?post=57"}],"version-history":[{count:b,href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts\u002F57\u002Frevisions"}],"wp:attachment":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fmedia?parent=57"}],"wp:term":[{taxonomy:d,embeddable:a,href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories?post=57"},{taxonomy:"post_tag",embeddable:a,href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Ftags?post=57"}],curies:[{name:e,href:f,templated:a}]}}}],fetch:{"0":{categories:{categories:[{id:2,count:i,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fblender\u002F",name:"Blender",slug:"blender",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F2"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=2"}],curies:[{name:e,href:f,templated:a}]}},{id:p,count:i,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fdocker\u002F",name:"Docker",slug:"docker",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F3"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=3"}],curies:[{name:e,href:f,templated:a}]}},{id:77,count:k,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fgulp\u002F",name:q,slug:q,taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F77"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=77"}],curies:[{name:e,href:f,templated:a}]}},{id:i,count:r,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fjava\u002F",name:"Java",slug:"java",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F4"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=4"}],curies:[{name:e,href:f,templated:a}]}},{id:s,count:i,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fjavascript\u002F",name:"JavaScript",slug:"javascript",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F5"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=5"}],curies:[{name:e,href:f,templated:a}]}},{id:r,count:40,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Funity\u002F",name:"Unity",slug:"unity",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F6"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=6"}],curies:[{name:e,href:f,templated:a}]}},{id:o,count:t,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fvue-js\u002F",name:"Vue.js",slug:"vue-js",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F7"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=7"}],curies:[{name:e,href:f,templated:a}]}},{id:8,count:s,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Fwordpress\u002F",name:"WordPress",slug:"wordpress",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F8"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=8"}],curies:[{name:e,href:f,templated:a}]}},{id:t,count:p,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002F%e3%81%9d%e3%81%ae%e4%bb%96\u002F",name:"その他",slug:"%e3%81%9d%e3%81%ae%e4%bb%96",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F9"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=9"}],curies:[{name:e,href:f,templated:a}]}},{id:k,count:b,description:c,link:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fcategory\u002Funcategorized\u002F",name:"未分類",slug:"uncategorized",taxonomy:d,parent:b,meta:[],_links:{self:[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories\u002F1"}],collection:[{href:g}],about:[{href:h}],"wp:post_type":[{href:"https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fposts?categories=1"}],curies:[{name:e,href:f,templated:a}]}}]}}},mutations:void 0}}(true,0,"","category","wp","https:\u002F\u002Fapi.w.org\u002F{rel}","https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Fcategories","https:\u002F\u002Fwww.volkruss.com\u002Fnuxt\u002Fapi\u002Fwp-json\u002Fwp\u002Fv2\u002Ftaxonomies\u002Fcategory",4,false,1,"2020-05-21T23:27:15","2020-05-21T14:27:15","open",7,3,"gulp",6,5,9)));